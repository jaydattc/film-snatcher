{"version":3,"sources":["webpack:///./node_modules/@chakra-ui/core/dist/es/InputElement/index.js","webpack:///./node_modules/@chakra-ui/core/dist/es/InputGroup/index.js","webpack:///./src/components/SearchResult.js","webpack:///./src/pages/index.js"],"names":["InputElement","_ref","ref","_placementProp","size","children","_ref$placement","placement","_ref$disablePointerEv","disablePointerEvents","props","height","fontSize","placementProp","Box","display","alignItems","justifyContent","position","width","top","zIndex","pointerEvents","displayName","InputLeftElement","InputRightElement","_ref$size","sizes","pl","pr","validChildren","map","child","type","Input","SearchResult","searchResult","Stack","Flex","border","borderRadius","movie","i","as","Link","color","to","id","p","m","w","bg","flexDir","Image","mx","src","poster_path","style","textOverflow","overflow","Heading","title","Badge","variantColor","release_date","Text","mt","lineHeight","overview","IndexPage","useState","searchValue","setSearchValue","setMovies","setSearchResult","isSearching","useEffect","getMovies","then","data","movies","length","search","res","console","log","results","placeholder","value","onChange","e","target","Spinner"],"mappings":"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","file":"component---src-pages-index-js-ed82a6aa2f62fb518f6d.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\n/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { forwardRef } from \"react\";\nimport Box from \"../Box\";\nimport { inputSizes } from \"../Input/styles\";\nvar InputElement = forwardRef(function (_ref, ref) {\n  var _placementProp;\n\n  var size = _ref.size,\n      children = _ref.children,\n      _ref$placement = _ref.placement,\n      placement = _ref$placement === void 0 ? \"left\" : _ref$placement,\n      _ref$disablePointerEv = _ref.disablePointerEvents,\n      disablePointerEvents = _ref$disablePointerEv === void 0 ? false : _ref$disablePointerEv,\n      props = _objectWithoutPropertiesLoose(_ref, [\"size\", \"children\", \"placement\", \"disablePointerEvents\"]);\n\n  var height = inputSizes[size] && inputSizes[size][\"height\"];\n  var fontSize = inputSizes[size] && inputSizes[size][\"fontSize\"];\n  var placementProp = (_placementProp = {}, _placementProp[placement] = \"0\", _placementProp);\n  return jsx(Box, _extends({\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    position: \"absolute\",\n    height: height,\n    width: height,\n    fontSize: fontSize,\n    top: \"0\",\n    zIndex: 2,\n    ref: ref\n  }, disablePointerEvents && {\n    pointerEvents: \"none\"\n  }, placementProp, props), children);\n});\nInputElement.displayName = \"InputElement\";\nvar InputLeftElement = forwardRef(function (props, ref) {\n  return jsx(InputElement, _extends({\n    ref: ref,\n    placement: \"left\"\n  }, props));\n});\nInputLeftElement.displayName = \"InputLeftElement\";\nvar InputRightElement = forwardRef(function (props, ref) {\n  return jsx(InputElement, _extends({\n    ref: ref,\n    placement: \"right\"\n  }, props));\n});\nInputRightElement.displayName = \"InputRightElement\";\nexport { InputLeftElement, InputRightElement };\nexport default InputElement;","import \"core-js/modules/es6.array.map\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\n/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { cloneElement } from \"react\";\nimport Box from \"../Box\";\nimport Input from \"../Input\";\nimport { inputSizes } from \"../Input/styles\";\nimport { InputLeftElement, InputRightElement } from \"../InputElement\";\nimport { useTheme } from \"../ThemeProvider\";\nimport { cleanChildren } from \"../utils\";\n\nvar InputGroup = function InputGroup(_ref) {\n  var children = _ref.children,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? \"md\" : _ref$size,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"size\"]);\n\n  var _useTheme = useTheme(),\n      sizes = _useTheme.sizes;\n\n  var height = inputSizes[size] && inputSizes[size][\"height\"];\n  var pl = null;\n  var pr = null;\n  var validChildren = cleanChildren(children);\n  return jsx(Box, _extends({\n    display: \"flex\",\n    position: \"relative\"\n  }, props), validChildren.map(function (child) {\n    if (child.type === InputLeftElement) {\n      pl = sizes[height];\n    }\n\n    if (child.type === InputRightElement) {\n      pr = sizes[height];\n    }\n\n    if (child.type === Input) {\n      return cloneElement(child, {\n        size: size,\n        pl: child.props.pl || pl,\n        pr: child.props.pr || pr\n      });\n    }\n\n    return cloneElement(child, {\n      size: size\n    });\n  }));\n};\n\nexport default InputGroup;","import React from \"react\"\r\nimport {\r\n  Stack,\r\n  Image,\r\n  Flex,\r\n  Heading,\r\n  Badge,\r\n  Text,\r\n  Link as A,\r\n} from \"@chakra-ui/core\"\r\nimport { Link } from \"gatsby\"\r\n\r\nconst SearchResult = props => {\r\n  const { searchResult } = props\r\n  return (\r\n    <Stack Flex border=\"1px solid gray\" borderRadius=\"5px\">\r\n      {searchResult.map((movie, i) => (\r\n        <A\r\n          as={Link}\r\n          color=\"cadetblue\"\r\n          to={`/m?movie_id=${movie.id}`}\r\n          p=\"4px\"\r\n          m=\"0 !important\"\r\n          w=\"100%\"\r\n          bg={i % 2 ? \"white\" : \"#f0f0f0\"}\r\n        >\r\n          <Flex flexDir=\"row\" height=\"150px\">\r\n            <Image\r\n              mx=\"10px\"\r\n              height=\"150px\"\r\n              src={\r\n                \"https://image.tmdb.org/t/p/w185_and_h278_bestv2\" +\r\n                movie.poster_path\r\n              }\r\n            />\r\n            <Flex\r\n              flexDir=\"column\"\r\n              style={{\r\n                textOverflow: \"ellipsis\",\r\n                overflow: \"hidden\",\r\n              }}\r\n            >\r\n              <Heading m=\"0\" size=\"sm\">\r\n                {movie.title}\r\n              </Heading>\r\n              <Badge variantColor=\"pink\">{movie.release_date}</Badge>\r\n              <Text mt={2} fontSize=\"sm\" lineHeight=\"short\">\r\n                {movie.overview}\r\n              </Text>\r\n            </Flex>\r\n          </Flex>\r\n        </A>\r\n      ))}\r\n    </Stack>\r\n  )\r\n}\r\n\r\nexport default SearchResult\r\n","import React, { useState, useEffect } from \"react\"\r\nimport { Link } from \"gatsby\"\r\nimport { InputGroup, InputRightElement, Input, Spinner } from \"@chakra-ui/core\"\r\nimport Layout from \"../components/layout\"\r\nimport SEO from \"../components/seo\"\r\nimport { getMovies, getMovieDetails, search } from \"../services/api\"\r\nimport axios from \"axios\"\r\nimport SearchResult from \"../components/SearchResult\"\r\n\r\nconst IndexPage = () => {\r\n  const [searchValue, setSearchValue] = useState(\"\")\r\n  const [movies, setMovies] = useState([])\r\n  const [searchResult, setSearchResult] = useState([])\r\n  const [isSearching, setIsSearching] = useState(false)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [cancelToken, setCancelToken] = useState(null)\r\n\r\n  useEffect(() => {\r\n    getMovies().then(data => {\r\n      setMovies(data.movies)\r\n    })\r\n  }, [])\r\n  useEffect(() => {\r\n    if (searchValue && searchValue.length)\r\n      search(searchValue).then(res => {\r\n        console.log(res)\r\n        if (res.data && res.data.results && res.data.results.length)\r\n          setSearchResult(res.data.results)\r\n      })\r\n  }, [searchValue])\r\n\r\n  return (\r\n    <Layout>\r\n      <SEO title=\"Home\" />\r\n      <InputGroup size=\"lg\">\r\n        <Input\r\n          type=\"text\"\r\n          placeholder=\"Search movies...\"\r\n          value={searchValue}\r\n          onChange={e => setSearchValue(e.target.value)}\r\n        />\r\n        <InputRightElement>\r\n          {isSearching && <Spinner size=\"sm\" />}\r\n        </InputRightElement>\r\n      </InputGroup>\r\n      {searchResult && searchResult.length ? (\r\n        <SearchResult searchResult={searchResult} />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Layout>\r\n  )\r\n}\r\nexport default IndexPage\r\n"],"sourceRoot":""}